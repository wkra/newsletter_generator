(function(t){function e(e){for(var i,a,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)a=s[d],r[a]&&p.push(r[a][0]),r[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),r=n("ce5b"),o=n.n(r),a=(n("bf40"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isVueInit,expression:"isVueInit"}],staticStyle:{display:"none"},attrs:{id:"app"}},[n("v-app",[n("v-toolbar",{attrs:{dark:"",color:"blue"}},[n("v-toolbar-title",{staticClass:"white--text"},[t._v("Newsletter Generator")])],1),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("v-flex",{staticClass:"text-xs-center text-sm-center text-md-center text-lg-center",attrs:{xs12:""}},[n("v-btn",{attrs:{color:"info"},on:{click:t.pickFile}},[n("v-icon",{attrs:{left:""}},[t._v("attach_file")]),t._v("\n                            Upload Files\n                        ")],1),n("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:t.copyCode}},[n("v-icon",{attrs:{left:""}},[t._v("file_copy")]),t._v("\n                            Copy Code\n                        ")],1),n("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.onUpload}})],1)],1),n("FilesTable",{attrs:{items:t.imgs},on:{removeFile:t.removeImg,moveFile:t.move,updateCode:t.updateCode}}),n("div",{staticClass:"text-xs-center pt-2"},[n("v-btn",{staticClass:"white--text",attrs:{disabled:t.imgs.length<2,color:"green"},on:{click:t.sortImgs}},[n("v-icon",{attrs:{left:""}},[t._v("cached")]),t._v(" Sort order "+t._s(t.sortDirection))],1)],1)],1),n("v-content",[n("div",{ref:"template",staticClass:"newsletter-view"},[n("Nestle",{attrs:{imgs:t.imgs}})],1)]),t.imgs.length?n("v-container",{staticClass:"code-wrapper",attrs:{"grid-list-xl":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:"","text-xs-left":""}},[n("h2",[t._v("You newsletter Code:")])]),n("v-flex",{attrs:{xs6:"","text-xs-right":""}},[n("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:t.copyCode}},[n("v-icon",{attrs:{left:""}},[t._v("file_copy")]),t._v("\n                            Copy Code\n                        ")],1)],1),n("v-flex",{attrs:{xs12:""}},[n("Code",{attrs:{code:t.finaleCode}})],1)],1)],1):t._e()],1)],1)}),s=[],l=(n("28a5"),n("55dd"),n("7f7f"),n("a481"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("html",[t._m(0),n("body",[n("table",{attrs:{width:"100%",border:"0",cellpadding:"0",cellspacing:"0"}},[n("tr",[n("td",{staticStyle:{"text-align":"center"},attrs:{align:"center"}},[n("span",{staticStyle:{display:"none!important","font-size":"0","line-height":"0",margin:"0","max-height":"0"}},[t._v("treść reklamowa")]),n("table",{attrs:{width:"600",border:"0",cellpadding:"0",cellspacing:"0",align:"center"}},t._l(t.imgs,function(t,e){return n("tr",{key:e},[n("td",{attrs:{width:"600",height:t.height}},[n("a",{staticStyle:{outline:"0"},attrs:{href:t.url,target:"_blank"}},[n("img",{staticStyle:{display:"block"},attrs:{src:t.src,width:"600",height:t.height,border:"0",alt:""}})])])])}),0),n("span",{staticStyle:{display:"none!important","font-size":"0","line-height":"0",margin:"0","max-height":"0"}},[t._v("treść reklamowa")])])])])])])}),c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("head",[n("title",[t._v("NDG")]),n("meta",{attrs:{"http-equiv":"Content-Type",content:"text/html; charset=utf-8"}})])}],u={name:"Nestle",components:{},props:{imgs:Array},data:function(){return{}}},d=u,p=n("2877"),f=Object(p["a"])(d,l,c,!1,null,null,null),m=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("code",[t._v('\n    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">\n    '+t._s(t.code)+"\n")])},v=[],g={name:"Code",props:{code:String},data:function(){return{}}},x=g,b=Object(p["a"])(x,h,v,!1,null,null,null),_=b.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-left"},[t._v(" "+t._s(e.index+1))]),n("td",[t._v(t._s(e.item.name))]),n("td",[n("v-edit-dialog",{attrs:{"return-value":e.item.url,lazy:""},on:{"update:returnValue":function(n){return t.$set(e.item,"url",n)},"update:return-value":function(n){return t.$set(e.item,"url",n)},save:t.save,cancel:t.cancel,open:t.open},scopedSlots:t._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:e.item.url,callback:function(n){t.$set(e.item,"url",n)},expression:"props.item.url"}})]},proxy:!0}],null,!0)},[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(n){return t.editItem(e.item)}}},[t._v("\n                edit\n            ")]),t._v(t._s(e.item.url)+"\n                ")],1)],1),n("td",{staticClass:"text-xs-center"},[n("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2",round:"",disabled:e.index===t.items.length-1,small:""},on:{click:function(n){return t.move(e.index,e.index+1)}}},[n("v-icon",[t._v("arrow_downward")])],1),n("v-btn",{attrs:{flat:"",icon:"",color:"green lighten-2",round:"",disabled:0===e.index,small:""},on:{click:function(n){return t.move(e.index,e.index-1)}}},[n("v-icon",[t._v("arrow_upward")])],1),n("v-btn",{attrs:{flat:"",icon:"",color:"red lighten-2",round:"",small:""},on:{click:function(n){return t.removeFile(e.index)}}},[n("v-icon",[t._v("close")])],1)],1)]}}])}),n("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),n("v-btn",{attrs:{flat:""},on:{click:function(e){t.snack=!1}}},[t._v("Close")])],1)],1)},C=[],w={name:"Nestle",components:{},props:{items:Array},data:function(){return{snack:!1,snackColor:"",snackText:"",headers:[{text:"Index",align:"left",sortable:!1,value:"index"},{text:"File name",align:"left",sortable:!1,value:"name"},{text:"Link",value:"url",align:"center",sortable:!1},{text:"Actions",align:"center",value:"change",sortable:!1}]}},methods:{removeFile:function(t){this.$emit("removeFile",t)},move:function(t,e){this.$emit("moveFile",{currIndex:t,newIndex:e})},save:function(){this.$emit("updateCode"),this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"}}},k=w,T=Object(p["a"])(k,y,C,!1,null,null,null),S=T.exports,D={name:"app",components:{Nestle:m,Code:_,FilesTable:S},data:function(){return{isVueInit:!0,imgs:[],sortDirection:"a-z",filesType:["image/jpeg","image/gif","image/png"],code:"",header:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">'}},computed:{showTemplate:function(){return this.imgs.length},finaleCode:function(){var t=this,e=/src="([\s\S]*?)"/g,n=0;return this.code.replace(e,function(){return'src="'+t.imgs[n].name+'"'})}},methods:{pickFile:function(){this.$refs.image.click()},onUpload:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.getFilesAttributes(e)},getFilesAttributes:function(t){var e,n,i;for(i=0;i<t.length;i++)n=t[i],this.filesType.indexOf(n.type)>-1&&(e=new Image,e.src=window.URL.createObjectURL(t[i]),this.imgs.push({name:t[i].name,height:0,src:e.src,url:"https://"}),this.getFileHeight(e,this.imgs.length-1))},getFileHeight:function(t,e){var n=this;t.onload=function(){n.imgs[e].height=t.naturalHeight}},removeImg:function(t){this.imgs.splice(t,1)},sortImgs:function(){this.imgs.sort(this.compareName),this.changeSortDirection()},compareName:function(t,e){return t.name<e.name?"a-z"===this.sortDirection?-1:1:t.name>e.name?"a-z"===this.sortDirection?1:-1:0},changeSortDirection:function(){this.sortDirection=this.sortDirection.split("").reverse().join("")},move:function(t){var e=t.currIndex,n=t.newIndex,i=this.imgs;i.splice(n,0,i.splice(e,1)[0])},updateCode:function(){this.$refs.template&&(this.code=this.$refs.template.children[0].outerHTML)},copyStringToClipboard:function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style={position:"absolute",left:"-9999px"},document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},copyCode:function(){this.copyStringToClipboard(this.finaleCode)}},updated:function(){this.updateCode()}},O=D,F=(n("7c55"),Object(p["a"])(O,a,s,!1,null,null,null)),I=F.exports;i["default"].config.productionTip=!1,i["default"].use(o.a),new i["default"]({render:function(t){return t(I)}}).$mount("#app")},"5c48":function(t,e,n){},"7c55":function(t,e,n){"use strict";var i=n("5c48"),r=n.n(i);r.a}});
//# sourceMappingURL=app.b5731ed4.js.map